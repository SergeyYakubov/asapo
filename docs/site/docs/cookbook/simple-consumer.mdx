---
title: Simple Consumer
---


import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';

A consumer data that reads the simple message. Note that a token is needed to work with data. In production, the token is provided during start of the beamtime.

<Tabs
  groupId="language"
  defaultValue="python"
  values={[
    { label: 'Python', value: 'python', },
    { label: 'C++', value: 'cpp', },
    { label: 'C', value: 'c', },
  ]
}>
<TabItem value="python">

Complete API documentation [here](http://asapo.desy.de/python/consumer.html)

```python content="./examples/python/consume.py"
```

Execute it with python3

```
$ python3 consumer.py
```

</TabItem>

<TabItem value="cpp">

```cpp content="./examples/cpp/consume.cpp"
```

Compile e.g. using CMake and execute. You might need to point cmake (with CMAKE_PREFIX_PATH) to asapo installation and curl library if installed to non-standard location.

```shell content="./examples/cpp/CMakeLists.txt" snippetTag="#consumer"
```

```
$ cmake . && make
$ ./asapo-consume
```

</TabItem>

<TabItem value="c">

```c content="./examples/c/consume.c"
```

Compile e.g. using Makefile and pkg-config (although we recommend CMake -  see C++ section) and execute. This example assumes asapo is installed to /opt/asapo. Adjust correspondingly.

```makefile content="./examples/c/Makefile" snippetTag="#consumer"
```

```
$ make
$ ./asapo-consume
```


</TabItem>

</Tabs>

the output should look like

```
id: 1
file name: processed/test_file
file content: hello
stream deleted
```

