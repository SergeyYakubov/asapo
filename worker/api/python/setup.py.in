from distutils.core import setup
from distutils.core import Extension
import setuptools
from Cython.Build import cythonize

import numpy

module = Extension("asapo_worker", ["asapo_worker.pyx"],
                       extra_objects=['@ASAPO_WORKER_LIB@',
                                      '@CURL_LIBRARIES@'],
                       include_dirs=["@ASAPO_CXX_COMMON_INCLUDE_DIR@","@ASAPO_WORKER_INCLUDE_DIR@",numpy.get_include()],
                       extra_compile_args=@EXTRA_COMPILE_ARGS@,
                       extra_link_args=@EXTRA_LINK_ARGS@,
                       language="c++",
         )

setup(ext_modules=cythonize("asapo_worker.pyx", extra_objects=['@ASAPO_WORKER_LIB@',
                           '@CURL_LIBRARIES@'],
                            include_dirs=["@ASAPO_CXX_COMMON_INCLUDE_DIR@","@ASAPO_WORKER_INCLUDE_DIR@",numpy.get_include()],
                            extra_compile_args=@EXTRA_COMPILE_ARGS@,
                            extra_link_args=@EXTRA_LINK_ARGS@,
                            language="c++",
                            build_dir="build"),
                            script_args=['build'],
                            options={'build':{'build_lib':'.'}})


